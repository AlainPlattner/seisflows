#!/usr/bin/python -u

import sys
sys.path.append('.')

from seisflows.tools.codetools import loadobj
from seisflows.tools.configtools import getclass, GlobalStruct

mypath = sys.argv[1]
myobj = sys.argv[2]
myfunc = sys.argv[3]

PAR = GlobalStruct('parameters',mypath)
PATH = GlobalStruct('paths',mypath)


if __name__ == '__main__':

    # load function
    obj = getclass(myobj)()
    func = getattr(obj,myfunc)

    # load function arguments
    kwargs = loadobj(PATH.SYSTEM+'/'+myfunc+'.p')

    # call function
    func(**kwargs)

